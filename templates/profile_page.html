{% extends "index.html" %}
{% load static %}
{% load filters %}

{% block content %}
    <section style="">
        <div class="container py-5">
            <div class="row">
                <div class="col-lg-4">
                    <div class="card mb-4">
                        <div class="card-body text-center">
                            {#                            <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp"#}
                            {#                                 alt="avatar"#}
                            {#                                 class="rounded-circle img-fluid" style="width: 150px;">#}
                            <div class="row mt-4">
                                <div class="col-sm-6">
                                    <p class="mb-0">Прізвище та ім'я</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.first_name|replace_data_if_value_none }} {{ request.user.last_name|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row mt-4">
                                <div class="col-sm-6">
                                    <p class="mb-0">Нікнейм</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.username|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p class="mb-0">Електронна пошта</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.email|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p class="mb-0">Телефон</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.phone|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p class="mb-0">Населений пункт</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.city|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-6">
                                    <p class="mb-0">Адреса відділення НП</p>
                                </div>
                                <div class="col-sm-6">
                                    <p class="text-muted mb-0">{{ request.user.warehouse|replace_data_if_value_none }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% comment %}change password form{% endcomment %}
                    <div class="card mb-4 mb-lg-0">
                        <div class="card-body p-0">
                            <form method="post" action="{% url 'update_password' object.id %}"
                                  enctype="multipart/form-data">
                                <!-- current password input -->
                                <div class="form-outline mb-3">
                                    {{ user_password_change_form.current_password }}
                                    <label class="form-label" for="currentPassword">Поточний пароль</label>
                                </div>

                                <!-- new password input -->
                                <div class="form-outline mb-3">
                                    {{ user_password_change_form.password }}
                                    <label class="form-label" for="newPassword">Новий пароль</label>
                                </div>

                                <div class="form-outline mb-3">
                                    {{ user_password_change_form.confirm_password }}
                                    <label class="form-label" for="newPassword">Підтвердіть пароль</label>
                                </div>

                                {% csrf_token %}
                                <!-- Submit button -->
                                <button type="submit" class="btn btn-danger btn-block">Змінити пароль</button>
                            </form>
                        </div>
                    </div>

                </div>
                <div class="col-lg-8">
                    <div class="card mb-4">
                        <div class="card-body">
                            <!-- Tabs navs -->
                            <ul class="nav nav-tabs mb-3" id="ex-with-icons" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link active" id="ex-with-icons-tab-1" data-mdb-toggle="tab"
                                       href="#ex-with-icons-tabs-1" role="tab"
                                       aria-controls="ex-with-icons-tabs-1" aria-selected="true"><i
                                            class="fas fa-chart-pie fa-fw me-2"></i>Мої замовлення</a>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <a class="nav-link" id="ex-with-icons-tab-3" data-mdb-toggle="tab"
                                       href="#ex-with-icons-tabs-3" role="tab"
                                       aria-controls="ex-with-icons-tabs-3" aria-selected="false"><i
                                            class="fas fa-cogs fa-fw me-2"></i>Оновити контактні дані</a>
                                </li>
                            </ul>
                            <!-- Tabs navs -->

                            <!-- Tabs content -->
                            <div class="tab-content" id="ex-with-icons-content">
                                <div class="tab-pane fade show active table-responsive-sm" id="ex-with-icons-tabs-1"
                                     role="tabpanel"
                                     aria-labelledby="ex-with-icons-tab-1">
                                    <table class="table align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col">Номер</th>
                                            <th scope="col">Дата створення</th>
                                            <th scope="col">Сума замовлення</th>
                                            <th scope="col">Дії</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">1</th>
                                            <td>Sit</td>
                                            <td>Amet</td>
                                            <td>
                                                <!-- Button trigger modal -->
                                                <button type="button" class="btn btn-outline-success btn-floating show-more-btn"
                                                        data-bs-toggle="modal"
                                                        data-bs-target="#exampleModal">
                                                    <i class="far fa-eye"></i>
                                                </button>
                                                <button type="button" class="btn btn-primary btn-floating">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <!-- Modal -->
                                                <div class="modal fade" id="exampleModal" tabindex="-1"
                                                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                                                    <div class="modal-dialog">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h1 class="modal-title fs-5" id="exampleModalLabel">
                                                                    Modal title</h1>
                                                                <button type="button" class="btn-close"
                                                                        data-bs-dismiss="modal"
                                                                        aria-label="Close"></button>
                                                            </div>
                                                            <div class="modal-body">
                                                                ...
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-secondary"
                                                                        data-bs-dismiss="modal">Close
                                                                </button>
                                                                <button type="button" class="btn btn-primary">Save
                                                                    changes
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                                {% comment %}update user form{% endcomment %}
                                <div class="tab-pane fade" id="ex-with-icons-tabs-3" role="tabpanel"
                                     aria-labelledby="ex-with-icons-tab-3">
                                    <form method="post" action="{% url 'profile_update' object.id %}"
                                          enctype="multipart/form-data">
                                        <div class="row">
                                            <div class="mb-3">
                                                <p class="mb-0">Ім'я</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.first_name }}
                                                </div>
                                            </div>

                                            <div class="mb-3">
                                                <p class="mb-0">Прізвище</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.last_name }}
                                                </div>
                                            </div>

                                            <div class="mb-3">
                                                <p class="mb-0">Нікнейм</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.username }}
                                                </div>
                                            </div>

                                            <div class=" mb-3">
                                                <p class="mb-0">Електронна пошта</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.email }}
                                                </div>
                                            </div>

                                            <div class=" col-6 mb-3">
                                                <p class="mb-0">Телефон</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.phone }}
                                                </div>
                                            </div>

                                            <div class=" col-6 mb-3">
                                                <p class="mb-0">Населений пункт</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.city }}
                                                </div>
                                            </div>

                                            <div class=" col-6 mb-3">
                                                <p class="mb-0">Адеса відділення Нової Пошти</p>
                                                <div class="form-outline">
                                                    {{ user_update_form.warehouse }}
                                                </div>
                                            </div>
                                        </div>

                                        <div class="float-end">
                                            {% csrf_token %}
                                            <button type="submit" class="btn btn-warning shadow-0 border">
                                                Оновити
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}
